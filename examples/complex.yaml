infos:
  creation_date: 2025-05-13-10:38:08
  description: No description provided
  inputs_schema:
    export_directory:
      description: Output directory path where the image will be saved
      is_input_file: false
      required: true
      task: export_image_task
    export_directory_0:
      description: Output directory path where the image will be saved
      is_input_file: false
      required: true
      task: export_image_task
    input_path:
      description: Path to a file, or a directory containing files (all files will
        be imported) or list of paths.
      is_input_file: true
      required: true
      task: import_image_task
    name_pattern:
      description: 'Output file name pattern. Can contain the special {image_name}
        or {file_name} tokens '
      is_input_file: false
      required: false
      task: export_image_task
    name_pattern_0:
      description: 'Output file name pattern. Can contain the special {image_name}
        or {file_name} tokens '
      is_input_file: false
      required: false
      task: export_image_task
  instructions: This configuration file was generated by PlantSeg and can be used
    to run a headless workflow. In order to run the workflow, you will need to customize
    this file with the correct paths and parameters. To read detailed instructions
    on how to do this, please visit the PlantSeg documentation (https://kreshuklab.github.io/plant-seg/).
  version: 2.0.0b4
inputs:
- export_directory: /tmp
  export_directory_0: /tmp
  input_path: /home/kriedmiller/Downloads/Col0_03_T3.tif
  name_pattern: '{file_name}_export'
  name_pattern_0: '{file_name}_export'
list_tasks:
- func: import_image_task
  id: 7475c802-7afb-48cf-912a-1ad7510d98fe
  images_inputs:
    input_path: input_path
  node_type: root
  outputs:
  - Col0_03_T3_71e058b6-3b21-471d-882a-e44b1200020d
  parameters:
    image_name: Col0_03_T3
    key: null
    m_slicing: null
    semantic_type: raw
    stack_layout: ZYX
  skip: false
- func: image_rescale_to_voxel_size_task
  id: 9d15dbea-e9d3-4247-ad43-5a2e921fa4ae
  images_inputs:
    image: Col0_03_T3_71e058b6-3b21-471d-882a-e44b1200020d
  node_type: node
  outputs:
  - Col0_03_T3_rescaled_a694e388-0a90-4361-a017-dee6a1489d5d
  parameters:
    new_voxel_size:
      unit: um
      voxels_size:
      - 1.0
      - 1.4
      - 1.4
    order: 0
  skip: false
- func: gaussian_smoothing_task
  id: 96e0a5aa-5ada-408f-b74d-6378a84011aa
  images_inputs:
    image: Col0_03_T3_rescaled_a694e388-0a90-4361-a017-dee6a1489d5d
  node_type: node
  outputs:
  - Col0_03_T3_rescaled_smoothed_643d1abb-a1a9-473a-b90a-f864559abf5e
  parameters:
    sigma: 1.0
  skip: false
- func: unet_prediction_task
  id: 9fae035d-3f22-4c72-aecf-a73dd1b20644
  images_inputs:
    image: Col0_03_T3_rescaled_smoothed_643d1abb-a1a9-473a-b90a-f864559abf5e
  node_type: node
  outputs:
  - Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_ce6f68d2-dd64-485a-b45c-88b0dcfcb734
  parameters:
    _tracker:
      progress: 4
      total: 4
    config_path: null
    device: generic_confocal_3D_unet
    disable_tqdm: false
    model_id: null
    model_name: cuda:0
    model_update: false
    model_weights_path: null
    patch: null
    patch_halo: null
    single_batch_mode: false
    suffix: generic_confocal_3D_unet
  skip: false
- func: dt_watershed_task
  id: 8c45b6a5-7f3a-469b-92d7-865ff0dc2948
  images_inputs:
    image: Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_ce6f68d2-dd64-485a-b45c-88b0dcfcb734
  node_type: node
  outputs:
  - Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_c368de88-bbf8-46e8-9f58-f3f8c798f82a
  parameters:
    alpha: 1.0
    apply_nonmax_suppression: false
    is_nuclei_image: false
    min_size: 100.0
    n_threads: null
    pixel_pitch: null
    sigma_seeds: 0.2
    sigma_weights: 2.0
    stacked: false
    threshold: 0.5
  skip: false
- func: set_biggest_instance_to_zero_task
  id: 42be6c31-786f-488f-a48a-8f7032a2148b
  images_inputs:
    image: Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_c368de88-bbf8-46e8-9f58-f3f8c798f82a
  node_type: node
  outputs:
  - Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_bg0_ca28817f-164a-4612-9fa1-55d7533e7de9
  parameters:
    instance_could_be_zero: false
  skip: false
- func: set_biggest_instance_to_zero_task
  id: a88856a8-0ba9-449e-be1d-87927709145e
  images_inputs:
    image: Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_bg0_ca28817f-164a-4612-9fa1-55d7533e7de9
  node_type: node
  outputs:
  - Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_bg0_bg0_dcc252b7-29bd-412f-8433-9842031dc957
  parameters:
    instance_could_be_zero: false
  skip: false
- func: remove_false_positives_by_foreground_probability_task
  id: 33717020-0e98-4e73-bf13-1015ce4c8164
  images_inputs:
    foreground: Col0_03_T3_rescaled_a694e388-0a90-4361-a017-dee6a1489d5d
    segmentation: Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_bg0_bg0_dcc252b7-29bd-412f-8433-9842031dc957
  node_type: node
  outputs:
  - Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_bg0_bg0_fg_filtered_150cc7c4-f3e2-41e3-839a-b5c12c864432
  - Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_bg0_bg0_false_positives_bf1e8019-5f89-4c38-aee3-26ed2915b33b
  parameters:
    threshold: 0.5
  skip: false
- func: export_image_task
  id: 296e179d-8a96-49d2-ab16-fb4edee1f9ff
  images_inputs:
    export_directory: export_directory
    image: Col0_03_T3_rescaled_smoothed_generic_confocal_3D_unet_0_dt_watershed_bg0_bg0_false_positives_bf1e8019-5f89-4c38-aee3-26ed2915b33b
    name_pattern: name_pattern
  node_type: leaf
  outputs: []
  parameters:
    data_type: uint16
    export_format: tiff
    key: segmentation
    scale_to_origin: true
  skip: false
- func: unet_prediction_task
  id: a1000576-eab0-4dec-b6ac-94eb20533dcc
  images_inputs:
    image: Col0_03_T3_71e058b6-3b21-471d-882a-e44b1200020d
  node_type: node
  outputs:
  - Col0_03_T3_generic_confocal_3D_unet_0_faff8090-61c7-4b30-801a-d844794a5b3c
  parameters:
    _tracker:
      progress: 25
      total: 25
    config_path: null
    device: generic_confocal_3D_unet
    disable_tqdm: false
    model_id: null
    model_name: cuda:0
    model_update: false
    model_weights_path: null
    patch: null
    patch_halo: null
    single_batch_mode: false
    suffix: generic_confocal_3D_unet
  skip: false
- func: dt_watershed_task
  id: fb2200b2-d448-4d61-a235-6625099cfdb0
  images_inputs:
    image: Col0_03_T3_generic_confocal_3D_unet_0_faff8090-61c7-4b30-801a-d844794a5b3c
  node_type: node
  outputs:
  - Col0_03_T3_generic_confocal_3D_unet_0_dt_watershed_8589fafe-54a4-459d-90e4-a7c009f5717e
  parameters:
    alpha: 1.0
    apply_nonmax_suppression: false
    is_nuclei_image: false
    min_size: 100.0
    n_threads: null
    pixel_pitch: null
    sigma_seeds: 0.2
    sigma_weights: 2.0
    stacked: false
    threshold: 0.5
  skip: false
- func: clustering_segmentation_task
  id: 409f0711-b9be-48b4-908c-08ff3f8fd4f1
  images_inputs:
    image: Col0_03_T3_generic_confocal_3D_unet_0_faff8090-61c7-4b30-801a-d844794a5b3c
    over_segmentation: Col0_03_T3_generic_confocal_3D_unet_0_dt_watershed_8589fafe-54a4-459d-90e4-a7c009f5717e
  node_type: node
  outputs:
  - Col0_03_T3_generic_confocal_3D_unet_0_gasp_ebfdb618-5994-4bc3-b380-35836c3edc5f
  parameters:
    beta: 0.6
    mode: gasp
    post_min_size: 100.0
  skip: false
- func: set_biggest_instance_to_zero_task
  id: 90bfa05e-0c56-4210-9f89-a58d6a64f1d2
  images_inputs:
    image: Col0_03_T3_generic_confocal_3D_unet_0_gasp_ebfdb618-5994-4bc3-b380-35836c3edc5f
  node_type: node
  outputs:
  - Col0_03_T3_generic_confocal_3D_unet_0_gasp_bg0_33ce0f9f-6464-420f-9914-87f0c281d8b1
  parameters:
    instance_could_be_zero: false
  skip: false
- func: export_image_task
  id: 726f1203-49db-4b6c-9caa-b4b05cfee538
  images_inputs:
    export_directory: export_directory_0
    image: Col0_03_T3_generic_confocal_3D_unet_0_gasp_bg0_33ce0f9f-6464-420f-9914-87f0c281d8b1
    name_pattern: name_pattern_0
  node_type: leaf
  outputs: []
  parameters:
    data_type: uint16
    export_format: tiff
    key: segmentation
    scale_to_origin: true
  skip: false
runner: serial
